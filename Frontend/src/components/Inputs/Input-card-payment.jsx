import { useState } from 'react'
import './Input.css'

export function InputCardPayment({ label, required = false }) {
	const [cardValue, setCardValue] = useState('')
	const inputId = `input-card-number`

	const handleChange = (e) => {
		let value = e.target.value.replace(/\D/g, '')
		value = value.slice(0, 16)
		value = value.replace(/(.{4})/g, '$1 ').trim()
		setCardValue(value)
	}

	return (
		<div className='flex flex-col w-full gap-sm text-left'>
			{label && (
				<label className='text-body-small text-text-primary font-medium' htmlFor={inputId}>
					{label}
					{required && <span className='required'>*</span>}
				</label>
			)}
			<div className='input-field-container flex items-center justify-between bg-neutral-white border-1 border-neutral-400 rounded-sm overflow-hidden transition-all duration-200 ease-in-out focus-within:shadow-[0_0_0_2px_rgba(245,111,16,0.1)] focus-within:border-[var(--color-primary-n400)]'>
				<input
					className='input-field py-3.5 px-4 flex-1 border-none text-text-caption outline-none bg-transparent text-text-secondary w-full'
					id={inputId}
					type='text'
					inputMode='numeric'
					autoComplete='cc-number'
					maxLength='19'
					placeholder='xxxx xxxx xxxx xxxx'
					required={required}
					value={cardValue}
					onChange={handleChange}
				/>
				<div className='flex gap-2 items-center justify-center py-3.5 px-4 cursor-pointer hover:bg-red-500 fill-neutral-400 hover:fill-neutral-50 transition-all duration-200 ease-in-out'>
					<svg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
						<g clip-path='url(#clip0_277_6221)'>
							<g clip-path='url(#clip1_277_6221)'>
								<path
									d='M22.5 4H2.5C1.39543 4 0.5 4.89543 0.5 6V18C0.5 19.1046 1.39543 20 2.5 20H22.5C23.6046 20 24.5 19.1046 24.5 18V6C24.5 4.89543 23.6046 4 22.5 4Z'
									fill='#252525'
								/>
								<path d='M9.5 17C12.2614 17 14.5 14.7614 14.5 12C14.5 9.23858 12.2614 7 9.5 7C6.73858 7 4.5 9.23858 4.5 12C4.5 14.7614 6.73858 17 9.5 17Z' fill='#EB001B' />
								<path d='M15.5 17C18.2614 17 20.5 14.7614 20.5 12C20.5 9.23858 18.2614 7 15.5 7C12.7386 7 10.5 9.23858 10.5 12C10.5 14.7614 12.7386 17 15.5 17Z' fill='#F79E1B' />
								<path
									fill-rule='evenodd'
									clip-rule='evenodd'
									d='M12.5 7.99963C13.7144 8.91184 14.5 10.3642 14.5 12C14.5 13.6358 13.7144 15.0882 12.5 16.0004C11.2856 15.0882 10.5 13.6358 10.5 12C10.5 10.3642 11.2856 8.91184 12.5 7.99963Z'
									fill='#FF5F00'
								/>
							</g>
						</g>
						<defs>
							<clipPath id='clip0_277_6221'>
								<rect width='24' height='24' fill='white' transform='translate(0.5)' />
							</clipPath>
							<clipPath id='clip1_277_6221'>
								<rect width='24' height='16' fill='white' transform='translate(0.5 4)' />
							</clipPath>
						</defs>
					</svg>
					<svg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
						<g clip-path='url(#clip0_277_6259)'>
							<g clip-path='url(#clip1_277_6259)'>
								<path
									d='M22.25 4.25H2.75C1.64543 4.25 0.75 5.14543 0.75 6.25V17.75C0.75 18.8546 1.64543 19.75 2.75 19.75H22.25C23.3546 19.75 24.25 18.8546 24.25 17.75V6.25C24.25 5.14543 23.3546 4.25 22.25 4.25Z'
									fill='white'
									stroke='black'
									stroke-opacity='0.2'
									stroke-width='0.5'
								/>
								<path
									d='M3.28773 9.91444C2.76459 9.62751 2.16754 9.39674 1.5 9.23659L1.528 9.11188H4.26498C4.63596 9.12489 4.93699 9.23651 5.03495 9.63071L5.62977 12.4666L5.81198 13.3207L7.47797 9.11188H9.27679L6.60288 15.2775H4.80397L3.28773 9.91444ZM10.6 15.2841H8.89883L9.96285 9.11188H11.6639L10.6 15.2841ZM16.7668 9.26277L16.5354 10.5956L16.3816 10.53C16.0737 10.4052 15.6674 10.2805 15.1144 10.2937C14.4427 10.2937 14.1415 10.5628 14.1345 10.8255C14.1345 11.1144 14.4989 11.3048 15.0939 11.5873C16.074 12.0272 16.5286 12.5656 16.5218 13.2682C16.5081 14.5486 15.346 15.3761 13.5611 15.3761C12.7979 15.3694 12.0628 15.2181 11.6638 15.0476L11.9019 13.662L12.1259 13.7607C12.6789 13.9907 13.0428 14.089 13.722 14.089C14.2118 14.089 14.7369 13.8984 14.7436 13.4849C14.7436 13.2157 14.5199 13.0185 13.8617 12.7165C13.2178 12.4209 12.3568 11.9285 12.3708 11.042C12.3781 9.84042 13.5611 9 15.241 9C15.899 9 16.4312 9.13789 16.7668 9.26277ZM19.0278 13.0975H20.4417C20.3718 12.7889 20.0496 11.3115 20.0496 11.3115L19.9307 10.7796C19.8467 11.0094 19.6999 11.3837 19.7069 11.3706C19.7069 11.3706 19.1678 12.7429 19.0278 13.0975ZM21.1276 9.11188L22.5 15.284H20.9249C20.9249 15.284 20.7708 14.5748 20.7219 14.3581H18.5378C18.4746 14.5222 18.1808 15.284 18.1808 15.284H16.3958L18.9226 9.62399C19.0977 9.22342 19.406 9.11188 19.8118 9.11188H21.1276Z'
									fill='#1434CB'
								/>
							</g>
						</g>
						<defs>
							<clipPath id='clip0_277_6259'>
								<rect width='24' height='24' fill='white' transform='translate(0.5)' />
							</clipPath>
							<clipPath id='clip1_277_6259'>
								<rect width='24' height='16' fill='white' transform='translate(0.5 4)' />
							</clipPath>
						</defs>
					</svg>
					<svg width='25' height='16' viewBox='0 0 25 16' fill='none' xmlns='http://www.w3.org/2000/svg'>
						<g clip-path='url(#clip0_815_20)'>
							<path d='M22.5 0H2.5C1.39543 0 0.5 0.89543 0.5 2V14C0.5 15.1046 1.39543 16 2.5 16H22.5C23.6046 16 24.5 15.1046 24.5 14V2C24.5 0.89543 23.6046 0 22.5 0Z' fill='#016FD0' />
							<path
								fill-rule='evenodd'
								clip-rule='evenodd'
								d='M14.264 13.3939V7.6925L24.4116 7.70161V9.27651L23.2387 10.5299L24.4116 11.7948V13.4031H22.539L21.5438 12.3049L20.5557 13.4072L14.264 13.3939Z'
								fill='#FFFFFE'
							/>
							<path
								fill-rule='evenodd'
								clip-rule='evenodd'
								d='M14.9418 12.7688V8.31995H18.7141V9.34483H16.1632V10.0405H18.6532V11.0483H16.1632V11.7317H18.7141V12.7688H14.9418Z'
								fill='#016FD0'
							/>
							<path
								fill-rule='evenodd'
								clip-rule='evenodd'
								d='M18.6953 12.7687L20.7826 10.5417L18.6952 8.31995H20.3108L21.5863 9.72998L22.8654 8.31995H24.4116V8.35495L22.3687 10.5417L24.4116 12.7056V12.7687H22.8499L21.5518 11.3446L20.267 12.7687H18.6953Z'
								fill='#016FD0'
							/>
							<path
								fill-rule='evenodd'
								clip-rule='evenodd'
								d='M14.7374 2.63196H17.1834L18.0426 4.58281V2.63196H21.0624L21.5832 4.09353L22.1057 2.63196H24.4116V8.33335H12.2251L14.7374 2.63196Z'
								fill='#FFFFFE'
							/>
							<path
								fill-rule='evenodd'
								clip-rule='evenodd'
								d='M15.2005 3.25134L13.2264 7.69651H14.5803L14.9528 6.80635H16.9707L17.3429 7.69651H18.7304L16.7647 3.25134H15.2005ZM15.3701 5.80878L15.9621 4.39371L16.5536 5.80878H15.3701Z'
								fill='#016FD0'
							/>
							<path
								fill-rule='evenodd'
								clip-rule='evenodd'
								d='M18.7119 7.69569V3.25061L20.615 3.25715L21.5943 5.98988L22.5799 3.25061H24.4115V7.69569L23.2329 7.70612V4.65278L22.1204 7.69569H21.0446L19.9089 4.64235V7.69569H18.7119Z'
								fill='#016FD0'
							/>
						</g>
						<defs>
							<clipPath id='clip0_815_20'>
								<rect width='24' height='16' fill='white' transform='translate(0.5)' />
							</clipPath>
						</defs>
					</svg>
					<svg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
						<g clip-path='url(#clip0_277_6292)'>
							<rect x='0.85' y='4.35' width='23.3' height='15.3' rx='1.65' fill='white' />
							<rect x='0.85' y='4.35' width='23.3' height='15.3' rx='1.65' stroke='#C5CDD0' stroke-width='0.7' />
							<g clip-path='url(#clip1_277_6292)'>
								<path
									d='M15.2865 8.27834C14.8511 7.75244 14.0639 7.52698 13.057 7.52698H10.1345C10.0348 7.52698 9.93848 7.56464 9.86272 7.6332C9.78695 7.70175 9.73675 7.79669 9.72113 7.90095L8.50426 16.0787C8.48007 16.2399 8.59791 16.386 8.75216 16.386H10.5564L11.0095 13.3406L10.9955 13.4359C11.0278 13.2207 11.2015 13.0619 11.4073 13.0619H12.2646C13.9489 13.0619 15.2678 12.337 15.653 10.24C15.6645 10.178 15.6744 10.1176 15.6829 10.0586C15.6343 10.0313 15.6343 10.0313 15.6829 10.0586C15.7977 9.28357 15.6822 8.75598 15.2865 8.27834Z'
									fill='#27346A'
								/>
								<path
									d='M11.6999 9.77943C11.7492 9.75454 11.8032 9.74164 11.8578 9.74168H14.149C14.4203 9.74168 14.6734 9.76039 14.9046 9.79983C14.9693 9.81076 15.0337 9.82381 15.0977 9.83896C15.1883 9.86016 15.2779 9.88609 15.3661 9.91668C15.4798 9.95691 15.5857 10.0038 15.683 10.0586C15.7977 9.28327 15.6822 8.75598 15.2865 8.27834C14.8508 7.75244 14.0639 7.52698 13.057 7.52698H10.1342C9.92844 7.52698 9.75338 7.68572 9.72113 7.90095L8.50426 16.0784C8.48007 16.2399 8.59791 16.3857 8.75191 16.3857H10.5564L11.4965 10.0688C11.5058 10.0067 11.5291 9.94796 11.5645 9.89755C11.6 9.84714 11.6464 9.8066 11.6999 9.77943Z'
									fill='#27346A'
								/>
								<path
									d='M15.6531 10.2401C15.2678 12.3368 13.949 13.062 12.2647 13.062H11.407C11.2013 13.062 11.0275 13.2207 10.9955 13.436L10.4318 17.2226C10.4108 17.3637 10.5138 17.4916 10.6485 17.4916H12.1694C12.2566 17.4916 12.3408 17.4586 12.4071 17.3986C12.4733 17.3387 12.5172 17.2556 12.5308 17.1644L12.5456 17.0823L12.8323 15.1573L12.8507 15.0509C12.8643 14.9597 12.9082 14.8767 12.9744 14.8167C13.0407 14.7567 13.1249 14.7238 13.212 14.7237H13.4397C14.913 14.7237 16.0667 14.0895 16.4038 12.2552C16.5445 11.4886 16.4717 10.8486 16.0994 10.3991C15.9865 10.263 15.8463 10.1505 15.683 10.0587C15.6741 10.118 15.6645 10.1781 15.6531 10.2401Z'
									fill='#2790C3'
								/>
								<path
									d='M15.2798 9.88836C15.2197 9.86977 15.1591 9.85331 15.0979 9.83902C15.034 9.82411 14.9696 9.81115 14.9049 9.80014C14.6734 9.76044 14.4205 9.7417 14.149 9.7417H11.8581C11.8034 9.74157 11.7494 9.75458 11.7002 9.77975C11.6466 9.80683 11.6001 9.84735 11.5646 9.89777C11.5292 9.9482 11.5059 10.007 11.4967 10.0692L11.0098 13.3406L10.9957 13.436C11.0278 13.2207 11.2015 13.0619 11.4073 13.0619H12.2649C13.9492 13.0619 15.268 12.337 15.6533 10.24C15.6648 10.178 15.6744 10.1179 15.6832 10.0587C15.5857 10.0041 15.4801 9.95697 15.3664 9.917C15.3377 9.90692 15.3088 9.89737 15.2798 9.88836'
									fill='#1F264F'
								/>
							</g>
						</g>
						<defs>
							<clipPath id='clip0_277_6292'>
								<rect width='24' height='24' fill='white' transform='translate(0.5)' />
							</clipPath>
							<clipPath id='clip1_277_6292'>
								<rect width='8' height='10' fill='white' transform='translate(8.5 7.5)' />
							</clipPath>
						</defs>
					</svg>
				</div>
			</div>
		</div>
	)
}
