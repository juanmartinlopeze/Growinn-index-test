import React, { useState } from 'react'
import { InputDefault } from '../../components/index'
import { supabase } from '../../lib/supabaseClient'
import './Register.css'

export function Register() {
	const InnlabLogo = (
		<svg xmlns='http://www.w3.org/2000/svg' width='473' height='72' fill='none' viewBox='0 0 473 72'>
			<path fill='#fff' d='M55.979 6.132c.695.492 1.39.98 2.044 1.471l-5.683 7.85a24 24 0 0 0-2.044-1.471z' />
			<path
				fill='#fff'
				d='M55.979 6.132c.695.492 1.39.98 2.044 1.471l-5.683 7.85a24 24 0 0 0-2.044-1.471zM21.836 2.905l3.028 9.24a25.7 25.7 0 0 1 6.052-1.963L27.888.942a37.4 37.4 0 0 0-6.052 1.963'
			/>
			<path
				fill='#fff'
				d='m21.836 2.905 3.028 9.24a25.7 25.7 0 0 1 6.052-1.963L27.888.942a37.4 37.4 0 0 0-6.052 1.963M42.934 10.632c.738.203 1.471.45 2.167.695l2.985-9.198a32 32 0 0 0-2.167-.696z'
			/>
			<path
				fill='#fff'
				d='M42.934 10.632c.738.203 1.471.45 2.167.695l2.985-9.198a32 32 0 0 0-2.167-.696zM13.125 22.938a25.3 25.3 0 0 1 3.393-4.66l-7.85-5.726c-1.268 1.472-2.37 3.028-3.393 4.66z'
			/>
			<path
				fill='#fff'
				d='M13.125 22.938a25.3 25.3 0 0 1 3.393-4.66l-7.85-5.726c-1.268 1.472-2.37 3.028-3.393 4.66zM18.156 16.641a26.4 26.4 0 0 1 4.906-3.558l-5.725-7.85c-1.717 1.065-3.392 2.248-4.906 3.558z'
			/>
			<path
				fill='#fff'
				d='M18.156 16.641a26.4 26.4 0 0 1 4.906-3.558l-5.725-7.85c-1.717 1.065-3.392 2.248-4.906 3.558zM69.596 23.43l-9.199 2.986c.37.9.654 1.84.9 2.82l9.198-2.985a70 70 0 0 0-.9-2.82'
			/>
			<path
				fill='#fff'
				d='m69.596 23.43-9.199 2.986c.37.9.654 1.84.9 2.82l9.198-2.985a70 70 0 0 0-.9-2.82M9.648 35.94c0-.856.042-1.76.123-2.616H.08C0 34.181 0 35.042 0 35.941s0 1.76.08 2.616h9.69a28 28 0 0 1-.122-2.616'
			/>
			<path
				fill='#fff'
				d='M9.648 35.94c0-.856.042-1.76.123-2.616H.08C0 34.181 0 35.042 0 35.941s0 1.76.08 2.616h9.69a28 28 0 0 1-.122-2.616M62.19 35.94c0 .53 0 1.103-.042 1.638h9.69v-3.27h-9.69c0 .53.043 1.103.043 1.637z'
			/>
			<path fill='#fff' d='M62.19 35.94c0 .53 0 1.103-.042 1.638h9.69v-3.27h-9.69c0 .53.043 1.103.043 1.637zM10.22 30.462a25 25 0 0 1 1.675-5.195l-9.24-2.986a32 32 0 0 0-1.676 5.195z' />
			<path fill='#fff' d='M10.22 30.462a25 25 0 0 1 1.675-5.195l-9.24-2.986a32 32 0 0 0-1.676 5.195zM56.305 19.423c.572.738 1.145 1.472 1.637 2.29l7.85-5.683a47 47 0 0 0-1.638-2.29z' />
			<path
				fill='#fff'
				d='M56.305 19.423c.572.738 1.145 1.472 1.637 2.29l7.85-5.683a47 47 0 0 0-1.638-2.29zM32.549.165v9.733c.45-.042 1.84-.204 3.354-.204s2.905.166 3.355.204V.165C38.728.123 37.337 0 35.903 0s-2.82.123-3.354.165'
			/>
			<path
				fill='#fff'
				d='M32.549.165v9.733c.45-.042 1.84-.204 3.354-.204s2.905.166 3.355.204V.165C38.728.123 37.337 0 35.903 0s-2.82.123-3.354.165M53.035 55.813a33 33 0 0 1-3.066 2.29l5.725 7.85a33 33 0 0 0 3.066-2.29z'
			/>
			<path fill='#fff' d='M53.035 55.813a33 33 0 0 1-3.066 2.29l5.725 7.85a33 33 0 0 0 3.066-2.29zM11.82 46.369a26.5 26.5 0 0 1-1.515-4.703l-9.24 2.985c.407 1.595.899 3.19 1.513 4.703z' />
			<path
				fill='#fff'
				d='M11.82 46.369a26.5 26.5 0 0 1-1.515-4.703l-9.24 2.985c.407 1.595.899 3.19 1.513 4.703zM45.84 60.27c-1.188.492-2.37.857-3.639 1.187l2.986 9.241a38 38 0 0 0 3.638-1.187z'
			/>
			<path
				fill='#fff'
				d='M45.84 60.27c-1.188.492-2.37.857-3.639 1.187l2.986 9.241a38 38 0 0 0 3.638-1.187zM61.377 42.404a29 29 0 0 1-1.065 3.27l9.241 2.985a32 32 0 0 0 1.065-3.27l-9.199-2.985z'
			/>
			<path fill='#fff' d='M61.377 42.404a29 29 0 0 1-1.065 3.27l9.241 2.985a32 32 0 0 0 1.065-3.27l-9.199-2.985zM58.183 49.846a30 30 0 0 1-2.124 2.944l7.85 5.682a30 30 0 0 0 2.124-2.943z' />
			<path
				fill='#fff'
				d='M58.183 49.846a30 30 0 0 1-2.124 2.944l7.85 5.682a30 30 0 0 0 2.124-2.943zM16.64 66.285l5.683-7.85c-1.268-.776-2.493-1.637-3.596-2.617l-5.725 7.85c1.145.942 2.332 1.84 3.596 2.617z'
			/>
			<path
				fill='#fff'
				d='m16.64 66.285 5.683-7.85c-1.268-.776-2.493-1.637-3.596-2.617l-5.725 7.85c1.145.942 2.332 1.84 3.596 2.617zM16.153 53.197a28.6 28.6 0 0 1-2.782-3.804l-7.85 5.725c.819 1.31 1.76 2.574 2.74 3.804l7.85-5.725z'
			/>
			<path
				fill='#fff'
				d='M16.153 53.197a28.6 28.6 0 0 1-2.782-3.804l-7.85 5.725c.819 1.31 1.76 2.574 2.74 3.804l7.85-5.725zM29.852 61.496a27 27 0 0 1-4.05-1.31l-2.986 9.24c1.31.53 2.66.942 4.008 1.311l2.985-9.24z'
			/>
			<path
				fill='#fff'
				d='M29.852 61.496a27 27 0 0 1-4.05-1.31l-2.986 9.24c1.31.53 2.66.942 4.008 1.311l2.985-9.24zM37.947 71.802v-9.69c-.653.042-1.349.08-2.002.08s-1.349 0-2.002-.08v9.69c.653 0 1.349.042 2.002.042s1.349 0 2.002-.042'
			/>
			<path
				fill='#fff'
				d='M37.947 71.802v-9.69c-.653.042-1.349.08-2.002.08s-1.349 0-2.002-.08v9.69c.653 0 1.349.042 2.002.042s1.349 0 2.002-.042M31.73 20.61c-.492.123-.98.285-1.43.45l-2.696-8.342c.492-.165.941-.326 1.429-.45zm4.169-9.32c-.573 0-1.188 0-1.76.08v8.833c.572-.08 1.145-.08 1.76-.08s1.187 0 1.76.08V11.37c-.573 0-1.145-.08-1.76-.08m9.24 1.759c-1.064-.407-2.124-.776-3.231-1.064l-2.74 8.384a16.7 16.7 0 0 1 3.232 1.064zm6.582 3.965c-.856-.695-1.717-1.348-2.659-1.92l-5.195 7.115c.942.573 1.84 1.188 2.66 1.921zM22.078 15.5c-.45.284-.857.615-1.31.942l5.152 7.116c.407-.327.857-.653 1.31-.942zm34.673 7.277a23 23 0 0 0-1.883-2.574l-7.116 5.195a16.8 16.8 0 0 1 1.883 2.574zM12.18 29.198l8.342 2.697c.165-.572.369-1.187.572-1.717L12.71 27.48c-.203.573-.407 1.145-.572 1.718zm39.541 8.219h8.791c0-.492.043-.98.043-1.472s0-.98-.043-1.471h-8.79c.042.492.08.98.08 1.471s0 .98-.08 1.472m-35.24-16.688c-.37.45-.696.9-1.023 1.391l7.116 5.153c.327-.492.653-.942 1.022-1.391zm3.595 14.228h-8.79v1.963h8.79zm.45 20.241c.572.45 1.187.9 1.798 1.31l5.153-7.115c-.654-.407-1.226-.857-1.799-1.31zm6.666 3.804c.738.284 1.472.53 2.248.738l2.74-8.384a20 20 0 0 1-2.248-.738zm-11.857-9.444c.407.615.819 1.188 1.268 1.718l7.116-5.153c-.45-.53-.856-1.145-1.268-1.717zm-3.189-6.95c.165.653.407 1.31.615 1.92l8.384-2.697a15 15 0 0 1-.615-1.92l-8.342 2.696zm23.757 17.989h1.226v-8.791c-.407 0-.819.042-1.226.042s-.818 0-1.226-.042v8.79zm23.922-30.788a22.5 22.5 0 0 0-.941-2.943l-8.384 2.74c.407.94.738 1.92.941 2.942zM42.324 59.783c.818-.204 1.637-.492 2.455-.776l-2.74-8.384a15.5 15.5 0 0 1-2.455.776zm16.56-14.843c.369-.9.653-1.798.899-2.74l-8.384-2.74c-.204.942-.492 1.884-.9 2.74zm-3.842 6.582a23 23 0 0 0 1.637-2.248l-7.116-5.195c-.492.776-1.022 1.552-1.637 2.248zm-5.725 5.152a43 43 0 0 0 2.167-1.552l-5.195-7.116a14 14 0 0 1-2.167 1.552l5.152 7.116zM84.231 29.401h4.988v28.91H84.23zM95.11 44.037c0-8.711 6.581-15.293 15.131-15.293 8.549 0 9.567 2.167 12.349 6.132l-3.965 3.028c-2.333-3.146-5.234-4.622-8.423-4.622-5.521 0-9.893 4.376-9.893 10.59 0 6.212 4.499 10.588 9.978 10.588s6.705-1.76 8.957-4.826l3.804 2.782c-2.782 4.211-7.443 6.582-12.799 6.582-8.711 0-15.089-6.34-15.089-14.966h-.042zM155.257 44.978h-24.126c.407 6.094 4.457 9.567 10.262 9.567s7.116-1.594 9.568-4.906l3.596 2.74c-2.782 4.168-7.443 6.581-13.248 6.581-9.038 0-15.25-6.094-15.25-14.923s6.501-15.373 15.292-15.373 14.105 5.644 14.105 14.105-.043 1.471-.166 2.167l-.042.042zm-23.838-4.334h18.893c-.738-4.987-4.05-7.646-8.995-7.646s-8.749 2.782-9.894 7.646zM159.35 54.384l3.189-3.761c2.74 2.574 6.34 3.884 9.69 3.884 3.351 0 6.217-1.76 6.217-4.169s-1.268-3.066-4.949-3.927l-5.072-1.145c-5.805-1.31-8.261-3.804-8.261-7.726s4.334-8.834 11.081-8.834c6.748 0 8.995 1.637 11.735 4.622l-3.355 3.478c-2.37-2.37-5.356-3.596-8.71-3.596s-5.848 1.594-5.848 3.927c0 2.332 1.064 2.782 5.072 3.68l5.072 1.146c5.848 1.31 8.138 3.965 8.138 7.972s-4.169 9.038-11.285 9.038-9.771-1.76-12.676-4.623l-.042.043zM189.072 29.401h4.987v28.91h-4.987zM84.231 18.4v-5.03h1.514v4.908c0 1.513.738 2.247 2.002 2.247s2.002-.738 2.002-2.247V13.37h1.514v5.03c0 2.247-1.349 3.515-3.516 3.515s-3.516-1.268-3.516-3.516M98.951 18.073v3.681h-1.429v-3.392c0-1.065-.492-1.595-1.31-1.595s-1.065.204-1.514.738v4.254h-1.43v-6.133h1.43v.53c.492-.407 1.187-.653 1.883-.653 1.429 0 2.37.942 2.37 2.617v-.047M100.668 13.863c0-.492.407-.9.941-.9.535 0 .899.408.899.9s-.407.941-.899.941a.95.95 0 0 1-.941-.941m.204 1.76h1.429v6.132h-1.429zM110.155 15.618l-2.536 6.132h-1.552l-2.536-6.132h1.595l1.717 4.377 1.718-4.377zM117.148 19.054h-4.864c.123 1.064.819 1.637 1.883 1.637s1.31-.246 1.798-.857l1.022.776c-.653.857-1.637 1.349-2.862 1.349-2.002 0-3.313-1.31-3.313-3.19 0-1.878 1.349-3.27 3.27-3.27s3.066 1.188 3.066 3.029v.53zm-4.783-1.103h3.392c-.165-.857-.738-1.268-1.594-1.268s-1.552.45-1.76 1.268h-.043zM122.589 15.538l-.08 1.348c-.204 0-.407-.042-.573-.042-.695 0-1.31.326-1.675.941v4.008h-1.429V15.66h1.429v.653c.407-.53 1.065-.819 1.718-.819s.407 0 .653.08l-.043-.042zM123.568 21.017l.738-1.064c.653.492 1.349.738 2.044.738s1.065-.285 1.065-.654c0-.368-.204-.491-.857-.653l-1.065-.246c-1.225-.284-1.76-.818-1.76-1.675 0-.856.942-1.963 2.456-1.963s1.921.326 2.536.899l-.776 1.022c-.573-.45-1.188-.696-1.841-.696s-.979.246-.979.615c0 .37.203.45.856.615l1.065.246c1.268.284 1.76.857 1.76 1.718 0 .86-.942 2.001-2.536 2.001s-2.087-.369-2.74-.899h.043zM130.15 13.863c0-.492.408-.9.942-.9s.899.408.899.9-.407.941-.899.941a.95.95 0 0 1-.942-.941m.204 1.76h1.429v6.132h-1.429zM139.68 12.879v8.871h-1.429v-.45c-.45.408-1.103.616-1.76.616-1.675 0-3.066-1.349-3.066-3.232s1.391-3.231 3.066-3.231 1.31.203 1.76.615v-3.19zm-1.429 6.993v-2.37c-.407-.493-.98-.696-1.552-.696-1.022 0-1.798.738-1.798 1.883s.776 1.883 1.798 1.883 1.145-.246 1.552-.738v.042zM147.53 15.618v6.132h-1.43v-.449c-.449.407-1.102.615-1.759.615-1.676 0-3.067-1.349-3.067-3.232s1.391-3.231 3.067-3.231c1.675 0 1.31.203 1.759.615v-.45zm-1.43 4.254v-2.37c-.407-.493-.979-.696-1.552-.696-1.022 0-1.798.738-1.798 1.883s.776 1.883 1.798 1.883 1.145-.246 1.552-.738v.042zM155.421 12.879v8.871h-1.429v-.45c-.449.408-1.103.616-1.76.616-1.675 0-3.066-1.349-3.066-3.232s1.391-3.231 3.066-3.231 1.311.203 1.76.615v-3.19zm-1.429 6.993v-2.37c-.407-.493-.98-.696-1.552-.696-1.022 0-1.798.738-1.798 1.883s.776 1.883 1.798 1.883 1.145-.246 1.552-.738v.042zM258.512 58.158V29.3h3.1v28.858zM268.426 58.158V29.3h2.71l16.929 24.287h-1.048V29.3h3.101v28.858h-2.71l-16.93-24.444h1.048v24.444zM296.937 58.158V29.3h2.709l16.93 24.287h-1.048V29.3h3.1v28.858h-2.71l-16.929-24.444h1.048v24.444zM325.444 58.158V29.3h3.1v25.953h12.782v2.905zM343.031 58.158 353.565 29.3h3.333l10.534 28.858h-3.252l-2.481-7.048h-12.901l-2.519 7.048h-3.253zm6.776-9.953h10.81l-5.848-16.577h.929l-5.886 16.577zM371.271 58.158V29.3h12.124q2.442.001 4.241.911 1.8.912 2.79 2.536.988 1.628.988 3.796c0 1.446-.369 2.82-1.102 3.97q-1.107 1.724-3.155 2.616l-.039-.929q1.705.624 2.927 1.743a7.8 7.8 0 0 1 1.878 2.617q.657 1.49.658 3.197 0 3.876-2.46 6.14-2.46 2.265-6.684 2.266h-12.162zm3.1-16.658h8.791q2.322.002 3.736-1.357 1.412-1.354 1.412-3.486c0-1.42-.471-2.548-1.412-3.312-.942-.763-2.188-1.14-3.736-1.14h-8.791zm0 13.753h9.062q2.75.001 4.398-1.454 1.646-1.45 1.645-4.008c0-1.705-.547-3.015-1.645-4.007q-1.645-1.491-4.398-1.493h-9.062zM417.643 40.937q-.921.001-1.697-.335a4 4 0 0 1-1.34-.937 4.4 4.4 0 0 1-.882-1.42 4.9 4.9 0 0 1-.318-1.803c0-.658.106-1.256.318-1.803a4.4 4.4 0 0 1 .882-1.425 3.9 3.9 0 0 1 1.34-.941 4.3 4.3 0 0 1 1.697-.335c.619 0 1.124.106 1.594.314q.708.318 1.192.814.485.495.695 1.047l-.877.386a2.8 2.8 0 0 0-1.001-1.22q-.674-.464-1.607-.463c-.624 0-1.209.152-1.709.458a3.16 3.16 0 0 0-1.171 1.268q-.42.813-.42 1.9c0 .725.14 1.348.42 1.895q.42.819 1.171 1.268.749.452 1.709.45c.64 0 1.157-.153 1.607-.458s.78-.708 1.001-1.217l.877.386q-.21.54-.695 1.034-.484.497-1.192.815c-.47.212-1.005.313-1.594.313zM425.403 40.937a3 3 0 0 1-1.586-.429 3 3 0 0 1-1.115-1.175q-.407-.749-.407-1.696-.002-.947.399-1.68c.262-.487.623-.868 1.081-1.153.458-.28.967-.42 1.539-.42q.681.001 1.209.25a2.8 2.8 0 0 1 .908.68q.375.424.572.958.199.533.199 1.094c0 .076 0 .165-.012.263q-.015.145-.034.297h-5.297v-.819h4.792l-.42.352c.072-.428.021-.814-.144-1.153a2 2 0 0 0-.721-.806 1.9 1.9 0 0 0-1.052-.297q-.585 0-1.081.305c-.331.204-.59.484-.776.848q-.282.543-.221 1.294-.057.75.242 1.302.298.555.819.86.522.306 1.115.306.687 0 1.158-.327.468-.326.759-.818l.746.399q-.185.42-.572.776a3 3 0 0 1-.916.572 3.1 3.1 0 0 1-1.175.217zM429.742 40.797v-6.268h.878v1.217l-.199-.046q.234-.61.767-.959a2.2 2.2 0 0 1 1.234-.352c.467 0 .844.102 1.201.305q.534.307.839.836.311.533.31 1.2v4.067h-.878v-3.728q0-.571-.204-.97a1.46 1.46 0 0 0-.572-.616 1.65 1.65 0 0 0-.848-.216 1.7 1.7 0 0 0-.853.216q-.375.218-.585.62-.211.401-.212.962v3.728h-.878zM438.838 40.864q-.84 0-1.297-.492-.459-.489-.458-1.403v-3.567h-1.158v-.878h.292a.81.81 0 0 0 .632-.263.95.95 0 0 0 .234-.661v-.526h.877v1.45h1.379v.878h-1.379v3.567c0 .212.03.394.094.555a.76.76 0 0 0 .322.382q.228.14.615.14c.064 0 .136 0 .22-.013.085-.008.162-.017.221-.025v.784a1.7 1.7 0 0 1-.314.051 3 3 0 0 1-.28.017zM440.979 40.797v-6.268h.878v1.03l-.118-.152q.223-.445.67-.7c.301-.17.665-.259 1.094-.259h.398v.878h-.551q-.68 0-1.086.42t-.407 1.192v3.859zM447.863 40.937a3.1 3.1 0 0 1-1.611-.428 3.2 3.2 0 0 1-1.154-1.17 3.34 3.34 0 0 1-.428-1.689c0-.627.14-1.179.42-1.67a3.1 3.1 0 0 1 1.141-1.162 3.14 3.14 0 0 1 1.632-.429q.916 0 1.633.42.719.42 1.132 1.158.415.737.416 1.683c0 .632-.144 1.205-.433 1.7a3.16 3.16 0 0 1-1.153 1.163q-.718.42-1.595.42zm0-.878q.631-.001 1.141-.314.507-.318.806-.865.298-.547.297-1.23c0-.453-.098-.856-.297-1.217q-.299-.54-.806-.852a2.1 2.1 0 0 0-1.141-.314q-.63.001-1.141.314-.508.318-.814.852a2.43 2.43 0 0 0-.305 1.217c0 .454.102.861.305 1.23q.306.547.814.865c.34.212.721.314 1.141.314M457.405 40.936a3 3 0 0 1-1.578-.428 3.07 3.07 0 0 1-1.107-1.17 3.5 3.5 0 0 1-.403-1.68c0-.623.136-1.191.403-1.683a3.04 3.04 0 0 1 1.099-1.162 2.97 2.97 0 0 1 1.586-.429q.807.002 1.437.352c.42.234.751.552.993.946l-.14.246v-3.986h.878v8.85h-.878v-1.404l.14.128a2.34 2.34 0 0 1-.976 1.047 2.9 2.9 0 0 1-1.454.37zm.046-.877q.631-.001 1.141-.314c.339-.212.607-.496.806-.861q.298-.54.297-1.221 0-.68-.297-1.222a2.3 2.3 0 0 0-.806-.86 2.1 2.1 0 0 0-1.141-.315c-.42 0-.788.107-1.123.314a2.24 2.24 0 0 0-.789.853c-.191.36-.289.767-.289 1.23s.098.86.289 1.22q.287.543.784.862c.331.212.708.314 1.128.314M465.229 40.937a3.02 3.02 0 0 1-2.702-1.603q-.407-.75-.407-1.697t.399-1.68c.263-.487.623-.868 1.081-1.153.458-.28.967-.42 1.54-.42q.68.001 1.208.25.534.254.908.68.375.424.572.958.199.533.2 1.094c0 .076 0 .165-.013.263a9 9 0 0 1-.034.297h-5.297v-.819h4.792l-.42.352c.073-.428.022-.814-.144-1.153a1.97 1.97 0 0 0-.721-.806 1.9 1.9 0 0 0-1.051-.297q-.586 0-1.082.305a2.1 2.1 0 0 0-.776.848q-.282.543-.22 1.294-.058.75.241 1.302.298.555.819.86.523.306 1.115.306.687 0 1.158-.327a2.6 2.6 0 0 0 .759-.818l.746.399q-.184.42-.572.776a3 3 0 0 1-.916.572 3.1 3.1 0 0 1-1.175.217zM413.665 54.13v-8.71h.937v8.71zM416.532 54.13v-6.268h.878v1.218l-.199-.047q.234-.61.767-.959a2.2 2.2 0 0 1 1.234-.352c.467 0 .844.102 1.201.306q.534.306.839.835.311.533.31 1.2v4.067h-.878v-3.727q0-.572-.204-.971a1.46 1.46 0 0 0-.572-.616 1.65 1.65 0 0 0-.848-.216q-.477 0-.853.216-.375.218-.585.62-.211.402-.212.962v3.728h-.878zM423.229 54.13v-6.268h.877v1.218l-.199-.047q.234-.61.768-.959a2.2 2.2 0 0 1 1.234-.352c.466 0 .844.102 1.2.306q.534.306.84.835.31.533.309 1.2v4.067h-.878v-3.727q0-.572-.203-.971a1.46 1.46 0 0 0-.573-.616 1.65 1.65 0 0 0-.848-.216q-.477 0-.852.216a1.5 1.5 0 0 0-.586.62q-.211.402-.212.962v3.728h-.877zM432.863 54.27a3.1 3.1 0 0 1-1.611-.428 3.2 3.2 0 0 1-1.154-1.17 3.34 3.34 0 0 1-.428-1.688c0-.628.14-1.18.42-1.671q.42-.737 1.141-1.162a3.14 3.14 0 0 1 1.632-.429q.916 0 1.633.42.719.42 1.132 1.158.415.737.416 1.684c0 .631-.144 1.204-.433 1.7a3.16 3.16 0 0 1-1.153 1.162q-.718.42-1.595.42zm0-.878q.631-.001 1.141-.314.507-.318.806-.865.298-.548.297-1.23 0-.678-.297-1.216-.299-.541-.806-.853a2.1 2.1 0 0 0-1.141-.314q-.63.001-1.141.314-.508.318-.814.852a2.43 2.43 0 0 0-.305 1.218c0 .453.102.86.305 1.23q.306.547.814.864c.34.213.721.314 1.141.314M439.143 54.13l-2.443-6.268h.984l2.057 5.496h-.314l2.07-5.496h.992l-2.468 6.268zM445.093 54.27c-.399 0-.751-.076-1.064-.229a1.84 1.84 0 0 1-.738-.628 1.56 1.56 0 0 1-.268-.911c0-.344.073-.628.212-.895q.21-.401.654-.683.444-.279 1.132-.399l2.455-.407v.793l-2.243.373c-.454.077-.776.221-.976.433a1.05 1.05 0 0 0-.296.747c0 .288.11.517.335.712q.332.292.861.292.641-.001 1.123-.275c.318-.182.569-.433.747-.742a2.05 2.05 0 0 0 .267-1.04v-1.59q0-.56-.407-.911-.409-.352-1.065-.352a1.78 1.78 0 0 0-1.649 1.03l-.793-.432a2.1 2.1 0 0 1 .555-.725q.381-.325.87-.522.489-.19 1.017-.191a2.7 2.7 0 0 1 1.222.267q.533.269.831.742.298.471.297 1.095v4.304h-.878v-1.251l.127.127q-.165.35-.509.636-.345.287-.806.458-.463.171-1.009.17zM452.834 54.27q-.924 0-1.624-.432a3 3 0 0 1-1.098-1.175 3.53 3.53 0 0 1-.399-1.68q-.002-.933.399-1.67a3 3 0 0 1 1.098-1.162q.7-.428 1.624-.429.584.001 1.099.212t.911.569q.395.357.598.822l-.793.412a2 2 0 0 0-.712-.819 1.94 1.94 0 0 0-1.099-.313q-.618-.002-1.115.31a2.2 2.2 0 0 0-.785.852q-.287.54-.288 1.234c0 .462.098.86.288 1.22q.288.543.785.862.498.316 1.115.314a1.96 1.96 0 0 0 1.095-.314c.318-.212.555-.492.72-.84l.793.433q-.196.456-.597.818a3 3 0 0 1-.912.573q-.514.211-1.099.212zM456.985 46.704V45.42h.878v1.285zm0 7.426v-6.268h.878v6.268zM462.596 54.27a3.1 3.1 0 0 1-1.612-.428 3.2 3.2 0 0 1-1.153-1.17 3.34 3.34 0 0 1-.429-1.689c0-.627.14-1.178.42-1.67q.421-.737 1.141-1.162a3.14 3.14 0 0 1 1.633-.429q.914 0 1.632.42.72.42 1.133 1.158.414.737.415 1.683c0 .632-.144 1.205-.432 1.701a3.17 3.17 0 0 1-1.154 1.162q-.718.42-1.594.42zm0-.878q.63-.001 1.14-.314.509-.318.806-.865.299-.548.297-1.23.002-.677-.297-1.217a2.25 2.25 0 0 0-.806-.852 2.1 2.1 0 0 0-1.14-.314q-.631.001-1.141.314a2.38 2.38 0 0 0-1.12 2.07c0 .453.102.86.306 1.23q.305.546.814.864c.339.212.721.314 1.141.314m-.446-6.747 1.018-1.756h1.205l-1.332 1.756zM467.319 54.13v-6.268h.878v1.218l-.199-.047q.234-.61.767-.959a2.2 2.2 0 0 1 1.235-.352c.466 0 .843.102 1.2.306q.534.306.839.835.311.533.31 1.2v4.067h-.878v-3.727q0-.572-.203-.971a1.46 1.46 0 0 0-.573-.616 1.65 1.65 0 0 0-.848-.216q-.477 0-.853.216-.375.218-.585.62-.211.402-.212.962v3.728h-.878z'
			/>
			<path stroke='#fff' stroke-width='3' d='M227.744 18.544v43.58' />
		</svg>
	)
	const mailInboxIcon = (
		<svg width='54' height='54' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
			<path
				d='M22 10.5V15.5C22 19 20 20.5 17 20.5H7C4 20.5 2 19 2 15.5V8.5C2 5 4 3.5 7 3.5H14'
				stroke='#090011'
				stroke-width='1.5'
				stroke-miterlimit='10'
				stroke-linecap='round'
				stroke-linejoin='round'
			/>
			<path d='M7 9L10.13 11.5C11.16 12.32 12.85 12.32 13.88 11.5L15.06 10.56' stroke='#090011' stroke-width='1.5' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round' />
			<path
				d='M19.5 8C20.8807 8 22 6.88071 22 5.5C22 4.11929 20.8807 3 19.5 3C18.1193 3 17 4.11929 17 5.5C17 6.88071 18.1193 8 19.5 8Z'
				stroke='#F56F10'
				stroke-width='1.5'
				stroke-miterlimit='10'
				stroke-linecap='round'
				stroke-linejoin='round'
			/>
		</svg>
	)
	const [loading, setLoading] = useState(false)
	const [msg, setMsg] = useState('')
	const [status, setStatus] = useState('idle')
	const [lastEmail, setLastEmail] = useState('')
	const [resending, setResending] = useState(false)

	async function onSubmit(e) {
		e.preventDefault()
		setMsg(null)
		setLoading(true)
		setStatus('submitting')

		const fd = new FormData(e.currentTarget)
		const name = fd.get('name')
		const email = fd.get('email')

		const [password, confirmPassword] = fd.getAll('password')

		if (!email || !password) {
			setMsg('Faltan datos.')
			setLoading(false)
         setStatus('idle')
			return
		}
		if (password !== confirmPassword) {
			setMsg('Las contraseñas no coinciden.')
			setLoading(false)
         setStatus('idle')
			return
		}

		const { data, error } = await supabase.auth.signUp({
			email,
			password,
			options: {
				data: { full_name: name },
				emailRedirectTo: `${location.origin}/auth/callback`,
			},
		})

		setLoading(false)

		if (error) {
			setMsg(mapSupabaseError(error))
			setStatus('error')
			return
		}

		setLastEmail(email)
		if (data.session) {
			setMsg('Cuenta creada. ¡Todo listo!')
			setStatus('success')
		} else {
			setMsg('Te enviamos un correo para confirmar tu cuenta.')
			setStatus('verify')
		}
	}

	function mapSupabaseError(err) {
		const m = (err?.message || '').toLowerCase()
		if (m.includes('email') && m.includes('already')) return 'Ese correo ya está registrado.'
		if (m.includes('password')) return 'La contraseña no cumple los requisitos.'
		return err?.message || 'Ocurrió un error. Inténtalo de nuevo.'
	}

	async function onResendVerifyEmail(e) {
		e?.preventDefault?.()
		if (!lastEmail) {
			setMsg('No tenemos un correo para reenviar.')
			return
		}
		setResending(true)
		setMsg(null)

		const { error } = await supabase.auth.resend({
			type: 'signup',
			email: lastEmail,
			options: { emailRedirectTo: `${location.origin}/auth/callback` },
		})

		setResending(false)
		setMsg(error ? mapSupabaseError(error) : 'Correo de verificación reenviado.')
	}

	return (
		<section className='register-container'>
			{/* LEFT column */}
			<div className='left-register-container'>
				{InnlabLogo}
				<h1>
					Comienza tu <span>viaje hacia la IA</span> empresarial
				</h1>
				<p>Únete a las empresas que ya están transformando sus negocios con inteligencia artificial de manera estratégica y medible.</p>
				<ul>
					<li>Evaluación gratuita completa</li>
					<li>Reporte personalizado</li>
					<li>Resultados rápidos</li>
				</ul>
			</div>

			{/* RIGHT column */}
			<div className='right-register-container'>
				{status === 'verify' ? (
					<div className='right-register-success'>
						<div className='success-illustration' aria-hidden>
							{InnlabLogo}
						</div>
						{mailInboxIcon}
						<h2 className='right-register-title'>Confirma tu correo</h2>
						<p className='right-register-sub'>
							Te enviamos un enlace a <strong>{lastEmail}</strong>. Abre tu bandeja y confirma para continuar.
						</p>

						<a className='register-btn' href='/login' style={{ display: 'inline-flex', justifyContent: 'center', alignItems: 'center', textAlign: 'center', width: '100%' }}>
							Iniciar sesión
						</a>

						<p className='right-register-footer' style={{ marginTop: 12 }}>
							¿No recibiste el correo?{' '}
							<span>
								<a href='#' onClick={onResendVerifyEmail} aria-disabled={resending} style={resending ? { pointerEvents: 'none', opacity: 0.7 } : undefined}>
									{resending ? 'Reenviando…' : 'Reenviar'}
								</a>
							</span>
						</p>
					</div>
				) : status === 'success' ? (
					<div className='right-register-success'>
						<div className='success-illustration' aria-hidden>
							{InnlabLogo}
						</div>

						<h2 className='right-register-title'>¡Cuenta creada!</h2>
						<p className='right-register-sub'>{msg || 'Sesión iniciada correctamente.'}</p>

						<a className='register-btn' href='/login' style={{ display: 'inline-flex', justifyContent: 'center', alignItems: 'center', textAlign: 'center', width: '100%' }}>
							Iniciar sesión
						</a>

						<p className='right-register-footer' style={{ marginTop: 12 }}>
							¿Listo para entrar?{' '}
							<span>
								<a href='/login'>Inicia sesión</a>
							</span>
						</p>
					</div>
				) : (
					<>
						<div className='right-register-header'>
							<h2 className='right-register-title'>
								Crea tu <span>cuenta</span>
							</h2>
							<p>Solo te tomará un momento. Comienza tu evaluación de IA.</p>
						</div>

						<form className='register-form' onSubmit={onSubmit}>
							<div className='inputs'>
								<InputDefault icon={true} label='Nombre completo' placeholder='Ingresa tu nombre completo' name='name' required />
								<InputDefault icon={true} label='Correo electrónico' placeholder='Ingresa tu correo electrónico' name='email' type='email' required />
								<InputDefault icon={true} label='Contraseña' placeholder='Crea una contraseña segura' name='password' type='password' required />
								<InputDefault icon={true} label='Confirma tu contraseña' placeholder='Confirma tu contraseña' name='password' type='password' required />
							</div>

							<div className='btn-toa'>
								<p className='right-register-footer'>
									Al crear una cuenta, aceptas nuestros{' '}
									<span>
										<a href='#'>Términos y condiciones</a>
									</span>
								</p>

								<button className='register-btn' type='submit' disabled={loading || status === 'submitting'}>
									{status === 'submitting' ? 'Creando…' : 'Crear mi cuenta gratuita'}
								</button>
							</div>
						</form>
						<p className='right-register-footer' style={{ marginTop: 12 }}>
							¿Ya tienes una cuenta?{' '}
							<span>
								<a href='/login'>Inicia sesión</a>
							</span>
						</p>
						{msg && <p style={{ marginTop: 8 }}>{msg}</p>}
					</>
				)}
			</div>
		</section>
	)
}
